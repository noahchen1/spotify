(this.webpackJsonpspotify=this.webpackJsonpspotify||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),i=n.n(a),s=n(33),o=n.n(s),u=(n(52),n(4)),l=n(2),d=n(3),p=n(1),h="https://accounts.spotify.com/authorize?client_id=".concat("ee791348c2724f159aa8c08bd6783452","&response_type=code&redirect_uri=").concat("https://songs-player.herokuapp.com","&scope=streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state"),j={display:"flex",justifyContent:"center",minHeight:"100vh",alignItems:"center"},f=d.a.button(r||(r=Object(l.a)(["\n    position: relative;\n    padding: 1em 0.5em;\n    border-radius: 12px; \n    border-style: none;\n    background-color: #1DB954;\n    color: white; \n    font-weight: 900;\n    font-size: 1.1em;\n    cursor: pointer; \n\n    &:before {\n        content: '';\n        position: absolute; \n        width: 100%;\n        height: 100%;\n        top: 0;\n        background: linear-gradient(45deg, transparent, white, transparent);\n        left: -100%;\n        transition: 0.5s ease-in-out;\n    }        \n\n    &:hover::before {\n        left: 150%;\n    }\n\n    &:before.is-avtive {\n        background -color: black;\n    }\n"]))),b=d.a.div(c||(c=Object(l.a)(["\n    width: 20px;\n    height: 20px;\n    position: absolute;\n    background: #fff;\n    border-radius: 50%;\n    opacity: 1;\n    animation: 0.9s ease 1 forwards ripple-effect;\n    z-index: 99;\n\n    @keyframes ripple-effect {\n        0% {\n          transform: scale(1);\n          opacity: 1;\n        }\n        50% {\n          transform: scale(20);\n          opacity: 0.375;\n        }\n        100% {\n          transform: scale(40);\n          opacity: 0;\n        }\n"])));function x(){var e=Object(a.useState)({x:-1,y:-1}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(u.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){-1!==n.x&&-1!==n.y?(o(!0),setTimeout((function(){return o(!1)}),300)):o(!1)}),[n]),Object(a.useEffect)((function(){s||r({x:-1,y:-1})}),[s]),Object(p.jsx)("div",{style:j,children:Object(p.jsx)("a",{href:h,children:Object(p.jsxs)(f,{onClick:function(e){var t=e.target.getBoundingClientRect();r({x:e.clientX-t.left,y:e.clientY-t.top})},children:["Log in with Spotify",s?Object(p.jsx)(b,{style:{left:n.x,top:n.y}}):""]})})})}var O,m,y=n(8),g=n.n(y);var v=d.a.div(O||(O=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  width: 350px;\n  margin: 50px 20px;\n"]))),w=d.a.img(m||(m=Object(l.a)(["\n  width: 350px;\n  height: 350px;\n\n  @media (max-width: 767px) {\n    width: 200px;\n    height: 200px;\n  }\n\n  @media (max-width: 380px) {\n    width: 100px;\n    height: 100px;\n  }\n\n"])));function k(e){var t=e.track,n=e.chooseTrack;return Object(p.jsx)("div",{children:Object(p.jsxs)(v,{onClick:function(){n(t)},children:[Object(p.jsx)(w,{src:t.albumUrl}),Object(p.jsxs)("div",{style:{margin:"20px auto",textAlign:"center"},children:[Object(p.jsx)("div",{style:{margin:"5px auto"},children:t.title}),Object(p.jsx)("div",{children:t.artist})]})]})})}var S,T,E=n(46);function C(e){var t=e.accessToken,n=e.trackUri,r=Object(a.useState)(!1),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){return s(!0)}),[n]),t?Object(p.jsx)(E.a,{token:t,showSaveIcon:!0,callback:function(e){e.isPlaying||s(!1)},play:i,uris:n?[n]:[]}):null}var I,M,P,U=d.a.form(S||(S=Object(l.a)(["\n    display: flex; \n    justify-content: center; \n    animation: 1s ease forwards fade-in;\n\n    @keyframes fade-in {\n        0% {opacity: 0; transform: translateY(-10px); }\n        100% {opacity: 1; transform: translateY(10px); }\n    }\n"]))),q=d.a.input(T||(T=Object(l.a)(["\n    width: 85%;\n    max-width: 800px;\n    height: 30px;\n    margin: 20px 0;\n    padding: 15px 0 15px 10px;\n    border-radius: 0.5rem; \n    border-width: 1.5px;\n    border-color: rgba(0, 0, 0, 0.3);\n    outline: none;\n    font-size: 1.1em;\n"])));function Q(e){var t=e.search,n=e.onChange;return Object(p.jsx)(U,{children:Object(p.jsx)(q,{type:"search",value:t,placeholder:"Search",onChange:n,className:"search-input"},"search-input")},"search-bar")}var Y=d.a.div(I||(I=Object(l.a)(["\n    display: flex;\n    margin: 5px 0;\n"]))),z=d.a.img(M||(M=Object(l.a)(["\n    width: 80px;\n    height: 80px;\n"]))),A=d.a.div(P||(P=Object(l.a)(["\n    margin-top: auto;\n    margin-left: 10px;\n"])));function B(e){var t=e.track,n=e.chooseTrack;return Object(p.jsxs)(Y,{onClick:function(){n(t)},children:[Object(p.jsx)(z,{src:t.albumUrl}),Object(p.jsxs)(A,{children:[Object(p.jsx)("div",{children:t.title}),Object(p.jsx)("div",{children:t.artist})]})]})}var L,_=n(45),D=n.n(_),J=n(7),R=n(6),H=(n(113),new D.a({clientId:"ee791348c2724f159aa8c08bd6783452"})),N=d.a.div(L||(L=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  animation: 1s ease forwards fade-in;\n\n  @keyframes fade-in {\n    0% {opacity: 0;}\n    100% {opacity: 1;}\n  }\n"])));function X(e){var t=function(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(),p=Object(u.a)(d,2),h=p[0],j=p[1];return Object(a.useEffect)((function(){g.a.post("https://songs-player.herokuapp.com:3001/login",{code:e}).then((function(e){c(e.data.accessToken),l(e.data.refreshToken),j(e.data.expiresIn),window.history.pushState({},null,"/")})).catch((function(){console.log("there is an error")}))}),[e]),Object(a.useEffect)((function(){if(o&&h){var e=setInterval((function(){g.a.post("https://songs-player.herokuapp.com:3001/refresh",{refreshToken:o}).then((function(e){c(e.data.accessToken),j(e.data.expiresIn)})).catch((function(){console.log("there is an error")}))}),1e3*(h-60));return function(){return clearInterval(e)}}}),[o,h]),r}(e.code),n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)([]),o=Object(u.a)(s,2),l=o[0],d=o[1],h=Object(a.useState)(),j=Object(u.a)(h,2),f=j[0],b=j[1],x=Object(a.useState)(""),O=Object(u.a)(x,2),m=O[0],y=O[1],v=Object(J.useMediaQuery)({query:"(min-width: 1224px) and (max-width: 1679px)"}),w=Object(J.useMediaQuery)({query:"(min-width: 1680px)"}),S=Object(J.useMediaQuery)({query:"(min-width: 1051px) and (max-width: 1224px)"}),T=Object(J.useMediaQuery)({query:"(min-width: 771px) and (max-width: 1050px)"}),E=Object(J.useMediaQuery)({query:"(max-width: 770px)"});function I(e){b(e),i(""),y("")}return Object(a.useEffect)((function(){f&&g.a.get("https://songs-player.herokuapp.com:3001/lyrics",{params:{track:f.title,artist:f.artist}}).then((function(e){y(e.data.lyrics)}))}),[f]),Object(a.useEffect)((function(){t&&H.setAccessToken(t)}),[t]),Object(a.useEffect)((function(){if(!c)return d([]);if(t){var e=!1;return H.searchTracks(c).then((function(t){e||d(t.body.tracks.items.map((function(e){var t=e.album.images.reduce((function(e,t){return t.height>e.height?t:e}),e.album.images[0]);return{artist:e.artists[0].name,title:e.name,uri:e.uri,albumUrl:t.url,href:e.href}})))})),function(){return e=!0}}}),[c,t]),Object(p.jsxs)("div",{style:{height:"100vh",position:"relative"},children:[Object(p.jsx)(Q,{search:c,onChange:function(e){return i(e.target.value)}}),w&&0!==l.length&&Object(p.jsx)(N,{children:Object(p.jsx)(R.Splide,{options:{type:"loop",perPage:4,focus:"center",width:"80%"},children:l.map((function(e){return Object(p.jsx)(R.SplideSlide,{children:Object(p.jsx)(k,{track:e,chooseTrack:I},e.url)})}))})}),v&&0!==l.length&&Object(p.jsx)(N,{children:Object(p.jsx)(R.Splide,{options:{type:"loop",perPage:4,focus:"center",width:"100%"},children:l.map((function(e){return Object(p.jsx)(R.SplideSlide,{children:Object(p.jsx)(k,{track:e,chooseTrack:I},e.url)})}))})}),S&&0!==l.length&&Object(p.jsx)(N,{children:Object(p.jsx)(R.Splide,{options:{type:"loop",perPage:3,focus:"center",width:"100%"},children:l.map((function(e){return Object(p.jsx)(R.SplideSlide,{children:Object(p.jsx)(k,{track:e,chooseTrack:I},e.url)})}))})}),T&&0!==l.length&&Object(p.jsx)(N,{children:Object(p.jsx)(R.Splide,{options:{type:"loop",perPage:2,focus:"center",width:"100%"},children:l.map((function(e){return Object(p.jsx)(R.SplideSlide,{children:Object(p.jsx)(k,{track:e,chooseTrack:I},e.url)})}))})}),E&&0!==l.length&&Object(p.jsx)("div",{style:{width:"80%",height:"80%",margin:"auto",overflowY:"auto"},children:l.map((function(e){return Object(p.jsx)(B,{track:e,chooseTrack:I},e.url)}))}),0===l.length&&Object(p.jsx)("div",{style:{textAlign:"center",height:"70%",overflowY:"auto",whiteSpace:"pre-wrap",margin:"50px auto"},children:m}),Object(p.jsx)("div",{style:{position:"absolute",bottom:"0",left:"0",width:"100%"},children:Object(p.jsx)(C,{accessToken:t,trackUri:null===f||void 0===f?void 0:f.uri})})]})}var F=new URLSearchParams(window.location.search).get("code");var G=function(){return F?Object(p.jsx)(X,{code:F},"Dashboard"):Object(p.jsx)(x,{},"Login")};o.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(G,{})}),document.getElementById("root"))},52:function(e,t,n){},92:function(e,t){}},[[114,1,2]]]);
//# sourceMappingURL=main.05ffb743.chunk.js.map